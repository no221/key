<!DOCTYPE html><html>
<head>
    <script>
        function genKey() {
            let c = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789', k = '';
            for (let i = 0; i < 12; i++) k += c.charAt(Math.floor(Math.random() * c.length));
            return k;
        }function getParam(p) {
        return new URLSearchParams(window.location.search).get(p);
    }

    function updKeys() {
        let ks = JSON.parse(localStorage.getItem('ks')) || {};
        for (let g in ks) {
            if (Date.now() - ks[g].t > 259200000) ks[g] = { k: genKey(), t: Date.now() };
        }
        localStorage.setItem('ks', JSON.stringify(ks));
    }

    function showKey() {
        let g = getParam('game');
        if (!g) {
            document.body.textContent = 'Invalid game';
            return;
        }
        let ks = JSON.parse(localStorage.getItem('ks')) || {};
        if (!ks[g]) {
            ks[g] = { k: genKey(), t: Date.now() };
            localStorage.setItem('ks', JSON.stringify(ks));
        }
        document.body.textContent = ks[g].k;
    }

    function init() {
        updKeys();
        showKey();
        setInterval(updKeys, 259200000);
    }
</script>

</head>
<body onload="init()">
</body>
</html>
